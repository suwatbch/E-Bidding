(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[152],{2157:function(e,t,n){Promise.resolve().then(n.bind(n,9027))},9722:function(e,t,n){"use strict";var o=n(891);t.Z=void 0;var c=o(n(9438)),s=n(3827);t.Z=(0,c.default)((0,s.jsx)("path",{d:"M7.58 4.08 6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42m12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42M18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18.1-.24.15-.5.15-.78h-4c.01 1.1.9 2 2.01 2"}),"NotificationsActive")},6216:function(e,t,n){"use strict";var o=n(891);t.Z=void 0;var c=o(n(9438)),s=n(3827);t.Z=(0,c.default)((0,s.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},9027:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o=n(3827),c=n(4090),s=n(9722),r=n(6216),i=n(4786);function l(){let[e,t]=(0,c.useState)(""),[n,l]=(0,c.useState)(""),[a,d]=(0,c.useState)(!1);(0,c.useEffect)(()=>{(0,i.zp)(),d(!0),console.log("Socket connected");let e=e=>{console.log("New notification received:",e),l(e.name)};return(0,i._c)(e),()=>{(0,i.VO)(e),(0,i.lt)(),d(!1),console.log("Socket disconnected")}},[]);let u=()=>{e.trim()&&(console.log("Sending notification:",e),(0,i.i6)(e.trim()),t(""))};return(0,o.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,o.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,o.jsxs)("div",{className:"mb-8",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"การแจ้งเตือน"}),(0,o.jsx)("p",{className:"mt-2 text-gray-600",children:"จัดการการแจ้งเตือนของคุณ"}),(0,o.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["สถานะการเชื่อมต่อ: ",a?"เชื่อมต่อแล้ว":"ไม่ได้เชื่อมต่อ"]})]}),(0,o.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,o.jsx)(s.Z,{className:"text-blue-600 w-6 h-6"}),(0,o.jsx)("h2",{className:"text-2xl font-semibold",children:"ตั้งค่าการแจ้งเตือน"})]}),(0,o.jsxs)("div",{className:"flex gap-4 mb-8",children:[(0,o.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),onKeyPress:t=>{"Enter"===t.key&&e.trim()&&u()},placeholder:"กรอกชื่อที่ต้องการรับการแจ้งเตือน...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,o.jsxs)("button",{onClick:u,disabled:!e.trim(),className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,o.jsx)(r.Z,{className:"w-5 h-5"}),"บันทึก"]})]}),(0,o.jsx)("div",{className:"bg-gray-50 rounded-lg p-6",children:n?(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("p",{className:"text-lg font-medium text-gray-900",children:n}),(0,o.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"การแจ้งเตือนล่าสุด"})]}):(0,o.jsxs)("div",{className:"text-center text-gray-500",children:[(0,o.jsx)(s.Z,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,o.jsx)("p",{children:"ยังไม่มีรายการแจ้งเตือน"})]})})]})})]})})}},4786:function(e,t,n){"use strict";n.d(t,{VO:function(){return l},_c:function(){return i},i6:function(){return r},lt:function(){return s},zp:function(){return c}});let o=(0,n(6782).io)("http://localhost:3001",{autoConnect:!1,reconnection:!0,timeout:1e4});o.on("connect",()=>{console.log("\uD83D\uDFE2 Socket connected")}),o.on("disconnect",()=>{console.log("\uD83D\uDD34 Socket disconnected")}),o.on("connect_error",e=>{console.error("❌ Socket connection error:",e)});let c=()=>{try{o.connected||(o.connect(),console.log("\uD83D\uDD04 Attempting to connect socket..."))}catch(e){console.error("❌ Error connecting socket:",e)}},s=()=>{try{o.connected&&(o.disconnect(),console.log("\uD83D\uDC4B Socket disconnected manually"))}catch(e){console.error("❌ Error disconnecting socket:",e)}},r=e=>{try{o.connected||(console.warn("⚠️ Socket not connected, attempting to connect..."),o.connect()),o.emit("new-notification",{name:e}),console.log("\uD83D\uDCE4 Notification sent:",e)}catch(e){console.error("❌ Error sending notification:",e)}},i=e=>{try{o.on("notification",t=>{console.log("\uD83D\uDCE8 Notification received:",t),e(t)})}catch(e){console.error("❌ Error subscribing to notifications:",e)}},l=e=>{try{o.off("notification",e),console.log("\uD83D\uDD15 Unsubscribed from notifications")}catch(e){console.error("❌ Error unsubscribing from notifications:",e)}}}},function(e){e.O(0,[438,782,971,69,744],function(){return e(e.s=2157)}),_N_E=e.O()}]);