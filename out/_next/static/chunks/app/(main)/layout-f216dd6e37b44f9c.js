(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95],{773:function(e,t,s){Promise.resolve().then(s.bind(s,3208))},3208:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var c=s(3827),n=s(4090),r=s(8792),o=s(7907),l=s(9409),a=s(7635),i=s(7487),u=s(8380),x=s(8467),m=s(9795),d=s(8007),h=s(8740),f=s(9309),b=s(7411),N=s(4786);function j(){let[e,t]=(0,n.useState)(!1),[s,j]=(0,n.useState)(!1),[g,w]=(0,n.useState)(0),v=(0,n.useRef)(null),y=(0,n.useRef)(null),p=(0,o.usePathname)(),D=(0,o.useRouter)();(0,n.useEffect)(()=>{(0,N.zp)();let e=e=>{w(e=>e+1)};return(0,N._c)(e),()=>{(0,N.VO)(e),(0,N.lt)()}},[]),(0,n.useEffect)(()=>{let e=e=>{v.current&&!v.current.contains(e.target)&&j(!1),y.current&&!y.current.contains(e.target)&&t(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),l.Z,a.Z,a.Z,i.Z;let k=()=>{j(!1),D.push("/login")};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("nav",{className:"fixed top-0 left-0 right-0 bg-white border-b border-gray-100/40 shadow-sm z-50",children:(0,c.jsxs)("div",{className:"mx-auto max-w-6xl px-4",children:[(0,c.jsxs)("div",{className:"flex h-16 justify-between items-center",children:[(0,c.jsx)("div",{className:"flex items-center",children:(0,c.jsxs)(r.default,{href:"/home",className:"flex items-center gap-2",children:[(0,c.jsx)(a.Z,{className:"h-8 w-8 text-blue-600"}),(0,c.jsx)("span",{className:"text-xl font-semibold text-gray-900",children:"E-Bidding"})]})}),(0,c.jsxs)("div",{className:"hidden md:flex md:items-center md:space-x-6",children:[(0,c.jsxs)(r.default,{href:"/home",className:"flex items-center ".concat("/home"===p?"text-blue-600":"text-gray-700 hover:text-blue-600"),children:[(0,c.jsx)(l.Z,{className:"h-5 w-5 mr-1"}),"หน้าแรก"]}),(0,c.jsxs)(r.default,{href:"/auctions",className:"flex items-center ".concat("/auctions"===p?"text-blue-600":"text-gray-700 hover:text-blue-600"),children:[(0,c.jsx)(a.Z,{className:"h-5 w-5 mr-1"}),"รายการประมูล"]}),(0,c.jsxs)(r.default,{href:"/my-auctions",className:"flex items-center ".concat("/my-auctions"===p?"text-blue-600":"text-gray-700 hover:text-blue-600"),children:[(0,c.jsx)(b.Z,{className:"h-5 w-5 mr-1"}),"ประมูลของฉัน"]}),(0,c.jsxs)(r.default,{href:"/alerts",className:"flex items-center ".concat("/alerts"===p?"text-blue-600":"text-gray-700 hover:text-blue-600"," relative"),onClick:()=>w(0),children:[(0,c.jsx)(i.Z,{className:"h-5 w-5 mr-1"}),"แจ้งเตือน",g>0&&(0,c.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:g})]}),(0,c.jsxs)("div",{className:"relative",ref:v,children:[(0,c.jsxs)("button",{onClick:()=>j(!s),className:"flex items-center text-gray-700 hover:text-blue-600",children:[(0,c.jsx)(u.Z,{className:"h-5 w-5 mr-1"}),"โปรไฟล์",(0,c.jsx)(d.Z,{className:"h-5 w-5 transition-transform ".concat(s?"rotate-180":"")})]}),s&&(0,c.jsxs)("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg py-1 z-10",children:[(0,c.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"สมชาย ใจดี"}),(0,c.jsx)("p",{className:"text-xs text-gray-500",children:"somchai@example.com"})]}),(0,c.jsxs)("button",{onClick:()=>D.push("/profile"),className:"flex items-center w-full px-4 py-2 text-gray-700 hover:bg-blue-50",children:[(0,c.jsx)(x.Z,{className:"h-5 w-5 mr-2"}),"แก้ไขโปรไฟล์"]}),(0,c.jsxs)("button",{onClick:k,className:"flex items-center w-full px-4 py-2 text-red-600 hover:bg-red-50",children:[(0,c.jsx)(m.Z,{className:"h-5 w-5 mr-2"}),"ออกจากระบบ"]})]})]})]}),(0,c.jsx)("div",{className:"md:hidden",children:(0,c.jsx)("button",{onClick:()=>t(!e),className:"text-gray-700 hover:text-blue-600",children:e?(0,c.jsx)(f.Z,{className:"h-6 w-6"}):(0,c.jsx)(h.Z,{className:"h-6 w-6"})})})]}),e&&(0,c.jsx)("div",{className:"md:hidden pb-4",ref:y,children:(0,c.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,c.jsxs)(r.default,{href:"/home",className:"flex items-center ".concat("/home"===p?"text-blue-600":"text-gray-700 hover:text-blue-600"),onClick:()=>t(!1),children:[(0,c.jsx)(l.Z,{className:"h-5 w-5 mr-2"}),"หน้าแรก"]}),(0,c.jsxs)(r.default,{href:"/auctions",className:"flex items-center ".concat("/auctions"===p?"text-blue-600":"text-gray-700 hover:text-blue-600"),onClick:()=>t(!1),children:[(0,c.jsx)(a.Z,{className:"h-5 w-5 mr-2"}),"รายการประมูล"]}),(0,c.jsxs)(r.default,{href:"/my-auctions",className:"flex items-center ".concat("/my-auctions"===p?"text-blue-600":"text-gray-700 hover:text-blue-600"),onClick:()=>t(!1),children:[(0,c.jsx)(b.Z,{className:"h-5 w-5 mr-2"}),"ประมูลของฉัน"]}),(0,c.jsxs)(r.default,{href:"/alerts",className:"flex items-center ".concat("/alerts"===p?"text-blue-600":"text-gray-700 hover:text-blue-600"," relative"),onClick:()=>{t(!1),w(0)},children:[(0,c.jsx)(i.Z,{className:"h-5 w-5 mr-2"}),"แจ้งเตือน",g>0&&(0,c.jsx)("span",{className:"absolute top-0 left-5 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:g})]}),(0,c.jsxs)("button",{onClick:()=>{t(!1),D.push("/profile")},className:"flex items-center text-gray-700 hover:text-blue-600",children:[(0,c.jsx)(x.Z,{className:"h-5 w-5 mr-2"}),"แก้ไขโปรไฟล์"]}),(0,c.jsxs)("button",{onClick:()=>{t(!1),k()},className:"flex items-center text-red-600 hover:text-red-700",children:[(0,c.jsx)(m.Z,{className:"h-5 w-5 mr-2"}),"ออกจากระบบ"]})]})})]})}),(0,c.jsx)("div",{className:"h-16"})]})}},4786:function(e,t,s){"use strict";s.d(t,{VO:function(){return a},_c:function(){return l},i6:function(){return o},lt:function(){return r},zp:function(){return n}});let c=(0,s(6782).io)("http://localhost:3001",{autoConnect:!1,reconnection:!0,timeout:1e4});c.on("connect",()=>{console.log("\uD83D\uDFE2 Socket connected")}),c.on("disconnect",()=>{console.log("\uD83D\uDD34 Socket disconnected")}),c.on("connect_error",e=>{console.error("❌ Socket connection error:",e)});let n=()=>{try{c.connected||(c.connect(),console.log("\uD83D\uDD04 Attempting to connect socket..."))}catch(e){console.error("❌ Error connecting socket:",e)}},r=()=>{try{c.connected&&(c.disconnect(),console.log("\uD83D\uDC4B Socket disconnected manually"))}catch(e){console.error("❌ Error disconnecting socket:",e)}},o=e=>{try{c.connected||(console.warn("⚠️ Socket not connected, attempting to connect..."),c.connect()),c.emit("new-notification",{name:e}),console.log("\uD83D\uDCE4 Notification sent:",e)}catch(e){console.error("❌ Error sending notification:",e)}},l=e=>{try{c.on("notification",t=>{console.log("\uD83D\uDCE8 Notification received:",t),e(t)})}catch(e){console.error("❌ Error subscribing to notifications:",e)}},a=e=>{try{c.off("notification",e),console.log("\uD83D\uDD15 Unsubscribed from notifications")}catch(e){console.error("❌ Error unsubscribing from notifications:",e)}}}},function(e){e.O(0,[438,782,809,971,69,744],function(){return e(e.s=773)}),_N_E=e.O()}]);